"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[949],{8949:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var a=n(4420),c=n(2791),r=n(9439),s=function(e){return e.contacts},i=function(e){var t=e.contacts.items,n=e.filter;if(!n)return t;var a=n.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(a)}))},o=n(296),l=function(e){return e.filter},u=n(5653),m="contactlist_container__iOKDP",f="contactlist_title__SYcd+",d="contactlist_filter__iPkqI",_="contactlist_field__5ya5R",h="contactlist_list__f43fc",v="contactlist_item__ziseb",x="contactlist_text__SLOST",j=n(3329),b=function(){var e=(0,a.v9)(l).filter,t=(0,a.I0)();return(0,j.jsxs)("label",{className:d,children:["Find contacts by name",(0,j.jsx)("input",{className:_,type:"text",name:"filter",value:e,onChange:function(e){return t((0,u.T)(e.currentTarget.value))}})]})},g=n(4164),C="modal_overlay__fCMjT",p="modal_modal__Nszx8",N=n(5847),k="change-contact-form_container__-S+IE",w="change-contact-form_title__d5CpJ",y="change-contact-form_info__pWG1S",S="change-contact-form_label__EHQV-",T="change-contact-form_field__0Gorm",Z=function(e){var t=e.contact,n=(0,c.useState)(t[0].name),s=(0,r.Z)(n,2),i=s[0],l=s[1],u=(0,c.useState)(t[0].number),m=(0,r.Z)(u,2),f=m[0],d=m[1],_=t[0].id,h=(0,a.I0)(),v=function(e){var t=e.currentTarget,n=t.name,a=t.value;switch(n){case"name":l(a);break;case"number":d(a);break;default:return}};return(0,j.jsxs)("div",{className:k,children:[(0,j.jsx)("h2",{className:w,children:"Change Contact"}),(0,j.jsxs)("form",{className:y,onSubmit:function(e){e.preventDefault();var t={id:_,name:i,number:f};h((0,o.$Z)(t))},children:[(0,j.jsxs)("label",{className:S,children:["Name",(0,j.jsx)("input",{className:T,type:"text",name:"name",required:!0,value:i,onChange:v})]}),(0,j.jsxs)("label",{className:S,children:["Number",(0,j.jsx)("input",{className:T,type:"tel",name:"number",required:!0,value:f,onChange:v})]}),(0,j.jsx)(N.Z,{title:"Change contact",type:"submit"})]})]})},E=document.querySelector("#modal-root");function I(e){var t=e.onClose,n=e.contact,a=(0,c.useCallback)((function(e){var n=e.target,a=e.currentTarget;"Escape"!==e.code&&a!==n||t()}),[t]);return(0,c.useEffect)((function(){return window.addEventListener("keydown",a),function(){return window.removeEventListener("keydown",a)}}),[a]),(0,g.createPortal)((0,j.jsx)("div",{className:C,onClick:a,children:(0,j.jsx)("div",{className:p,children:(0,j.jsx)(Z,{contact:n})})}),E)}var L=function(){var e=(0,c.useState)(!1),t=(0,r.Z)(e,2),n=t[0],s=t[1],l=(0,c.useState)([]),u=(0,r.Z)(l,2),d=u[0],_=u[1],g=(0,a.v9)(i),C=(0,a.I0)(),p=function(e){var t=e.currentTarget.closest("li").id;C((0,o.GK)(t))},k=(0,c.useCallback)((function(){s((function(e){return!e}))}),[]),w=(0,c.useCallback)((function(e){var t=e.currentTarget.closest("li").id,n=g.filter((function(e){return e.id===t}));_(n),k()}),[g,k]),y=g.map((function(e){var t=e.name,n=e.number,a=e.id;return(0,j.jsxs)("li",{className:v,id:a,children:[(0,j.jsxs)("p",{className:x,children:[t,": ",n]}),(0,j.jsx)(N.Z,{onClick:w,menu:!0,title:"Change",type:"button"}),(0,j.jsx)(N.Z,{onClick:p,menu:!0,title:"Delete",type:"button"})]},a)}));return(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)("h3",{className:f,children:"Contacts"}),(0,j.jsx)(b,{}),(0,j.jsx)("ul",{className:h,children:y}),n&&(0,j.jsx)(I,{onClose:k,contact:d})]})},P=n(6119),q="notification_text__auTP2",D=function(e){var t=e.message;return(0,j.jsx)("div",{className:q,children:t})},F=function(){var e=(0,a.v9)(s),t=e.items,n=e.isLoading,r=e.error,i=(0,a.I0)();return(0,c.useEffect)((function(){i((0,o.yF)())}),[i]),(0,j.jsxs)(j.Fragment,{children:[n&&(0,j.jsx)(P.Z,{}),r&&(0,j.jsx)(D,{message:r}),!n&&(t.length?(0,j.jsx)(L,{}):(0,j.jsx)(D,{message:"There is no contacts in the Phonebook"}))]})}}}]);
//# sourceMappingURL=949.942435df.chunk.js.map